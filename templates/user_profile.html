{% extends 'base.html' %}

{% block title %}
{{user.username}}
{% endblock %}

{% block content %}

<div class="user-profile-header">
    <img src="{{user.img_url}}" alt="">
    <div class="text">
        <h2 class="pt-4 display-1 text-white lead">Welcome {{user.first_name}}!</h2>
    </div>
</div>

<div class="container"> 
    <section>
        <div class="pt-4 d-flex justify-center align-items-center">
            <img class="rounded-circle profile-img" src={{user.profile_img_url}} alt="">
            <p class="mb-0 lead display-4 profile-name pl-2">{{user.first_name}} {{user.last_name}}</p>
        </div>
        <span class="fs-3 text-muted">@{{user.username}}</span>
        <div class="d-flex pt-3">
            <a href="/users/{{user.id}}/edit" class="btn btn-primary mr-2">Edit</a>
            <form action="/users/{{user.id}}/delete" method="POST">
                <button type="submit" class="btn btn-danger">Delete</button>
            </form> 
        </div> 
    </section>

    <section class="user-details">
        <h2 class="favorites pt-4 lead">Favorites</h2>
        <ul>
            {% if scriptures %}
                {% for scripture in scriptures %}
                <li><a class="scripture-title" href="/favorites/{{scripture.id}}">{{scripture.title}}</a></li>
                {% endfor %}
            {% else %}
                <li class="p-2">No favorites yet.</li>
            {% endif %}
        </ul>
        <div class="d-flex flex-column">
            <a href="{{url_for('search')}}" class="btn btn-primary align-self-start">Add Favorite</a>
            <!-- Only available for admin -->
            <a href="{{ url_for('get_users') }}" class="py-4">Back to users</a> 
        </div>
    </section>
</div>

{% endblock %}