<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- Pulse  Bootswatch -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@4.5.2/dist/pulse/bootstrap.min.css" integrity="sha384-L7+YG8QLqGvxQGffJ6utDKFwmGwtLcCjtwvonVZR/Ba2VzhpMwBz51GaXnUsuYbj" crossorigin="anonymous">
    <title>Document</title>
</head>
<body>
    <!-- Display flash messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
          {% for category, message in messages %}
              <div class="alert alert-{{ category }} alert-dismissible fade show text-center" role="alert">{{ message }}</div>
          {% endfor %}
      {% endif %}
    {% endwith %}
    <div class="container">
        <form method="POST" action="{{ url_for('home_page') }}">
            <!-- Include Flask-WTF form fields -->
            <h1 class="display-4 form-title">Bible Verse Search</h1>
            {{ form.hidden_tag() }} <!--add type=hidden form fields -->
          
            {% for field in form
                   if field.widget.input_type != 'hidden' %}
          
              <div class="form-group">
                {{ field.label }}
                {{ field(class_ = "form-control")}}
          
                {% for error in field.errors %}
                    <small class="form-text text-danger">
                        {{ error }}
                    </small>  
                {% endfor %}
              </div>
            
            {% endfor %}

            <button type="submit" class="btn btn-primary">Search</button>
        </form>
        
        {% if scripture_text %}
            <h2 class="lead display-4 pt-2">
                {{formated_scripture}} 
            </h2>
            <ul class="list-unstyled pb-4">
                {% for verse in scripture_text %}
                    <li class="p-1 fs-5">
                        <span class="lead px-1 fs-5">{{ verse['verse']}}</span>
                        {{ verse['text'] }}
                    </li>
                {% endfor %}
            </ul>
        {% endif %}
        
    </div>

    <!-- Bootstrap JS and other dependencies (if needed) -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
</body>
</html>